#!/bin/bash

# this script gets the MD5, SHA1, and SHA256 hashes for a file, and outputs in a easy to copy format

# usage: ./gethash.sh [path to file]

# log(msg)
function log() {
	echo "[+] $1"
}

# error(msg)
function error() {
	echo "[!] $1" 1>&2
}

# make sure a file has been specified
if (( $# != 1 )); then 
    error "usage: ./gethash.sh [path to file]"
    exit 1
fi

# check if file exists
filepath=$1
if [[ ! -f "$filepath" ]]; then
    error "the file $filepath does not exist"
    exit 1
fi

# get hashes
md5=$(md5sum "$filepath" | cut -d' ' -f1)
sha1=$(shasum "$filepath" | cut -d' ' -f1)
sha256=$(sha256sum "$filepath" | cut -d' ' -f1)

# print it out
log "hashes for $filepath"
echo -e "MD5\t$md5"
echo -e "SHA1\t$sha1"
echo -e "SHA256\t$sha256"